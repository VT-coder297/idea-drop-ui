import{R as l,q as c,u,b as m,d as x,j as e,a as n,e as p}from"./index-CwYucfvh.js";import{u as h}from"./useSuspenseQuery-BEkp8Fd2.js";import{u as y}from"./useMutation-BKOWUt29.js";const b=t=>c({queryKey:["idea",t],queryFn:()=>p(t)});function N(){const{ideaId:t}=l.useParams(),{data:s}=h(b(t)),o=u(),{user:a}=m(),{mutateAsync:d,isPending:i}=y({mutationFn:()=>x(t),onSuccess:()=>{o({to:"/ideas"})}}),r=async()=>{window.confirm("Are you sure you want to delete this idea?")&&await d()};return e.jsxs("div",{className:"p-4",children:[e.jsx(n,{to:"/ideas",className:"text-blue-500 underline block mb-4",children:"Back To Ideas"}),e.jsx("h2",{className:"text-2xl font-bold",children:s.title}),e.jsx("p",{className:"mt-2",children:s.description}),a&&a.id===s.user&&e.jsxs(e.Fragment,{children:[e.jsx(n,{to:"/ideas/$ideaId/edit",params:{ideaId:t},className:"inline-block text-sm bg-yellow-500 hover:bg-yellow-600 text-white mt-4 mr-2 px-4 py-2 rounded transition",children:"Edit"}),e.jsx("button",{onClick:r,disabled:i,className:"text-sm bg-red-600 hover:bg-red-700 text-white mt-4 px-4 py-2 rounded transition disabled:opacity:50",children:i?"Deleting...":"Delete"})]})]})}export{N as component};
