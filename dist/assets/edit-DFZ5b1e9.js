import{h,u as y,q as f,r as o,i as j,j as e,a as v,e as N}from"./index-CwYucfvh.js";import{u as I}from"./useSuspenseQuery-BEkp8Fd2.js";import{u as w}from"./useMutation-BKOWUt29.js";const S=a=>f({queryKey:["idea",a],queryFn:()=>N(a)});function T(){const{ideaId:a}=h.useParams(),u=y(),{data:s}=I(S(a)),[r,c]=o.useState(s.title),[i,m]=o.useState(s.summary),[n,p]=o.useState(s.description),[l,b]=o.useState(s.tags.join(", ")),{mutateAsync:g,isPending:d}=w({mutationFn:()=>j(a,{title:r,summary:i,description:n,tags:l.split(",").map(t=>t.trim()).filter(Boolean)}),onSuccess:()=>{u({to:"/ideas/$ideaId",params:{ideaId:a}})}}),x=async t=>{t.preventDefault(),await g()};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Edit Idea"}),e.jsx(v,{to:"/ideas/$ideaId",params:{ideaId:a},className:"text-sm text-blue-600 hover:underline",children:"â† Back To Idea"})]}),e.jsxs("form",{onSubmit:x,className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"title",className:"block text-gray-700 font-medium mb-1",children:"Title"}),e.jsx("input",{id:"title",type:"text",value:r,onChange:t=>c(t.target.value),className:"w-full border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter idea title"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"summary",className:"block text-gray-700 font-medium mb-1",children:"Summary"}),e.jsx("input",{id:"summary",type:"text",value:i,onChange:t=>m(t.target.value),className:"w-full border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter idea summary"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"body",className:"block text-gray-700 font-medium mb-1",children:"Description"}),e.jsx("textarea",{id:"body",value:n,onChange:t=>p(t.target.value),rows:6,className:"w-full border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Write out the description of your idea"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"tags",className:"block text-gray-700 font-medium mb-1",children:"Tags"}),e.jsx("input",{id:"tags",type:"text",value:l,onChange:t=>b(t.target.value),className:"w-full border border-gray-300 rounded-md p-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"optional tags, comma separated"})]}),e.jsx("div",{className:"mt-5",children:e.jsx("button",{type:"submit",disabled:d,className:"block w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold px-6 py-2 rounded-md transition disabled:opacity-50 disabled:cursor-not-allowed",children:d?"Updating...":"Update Idea"})})]})]})}export{T as component};
