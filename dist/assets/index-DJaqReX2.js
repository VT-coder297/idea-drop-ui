import{u as g,b,r as t,l as h,j as s,a as f}from"./index-CwYucfvh.js";import{u as v}from"./useMutation-BKOWUt29.js";function y(){const i=g(),{setAccessToken:d,setUser:u}=b(),[a,c]=t.useState(""),[o,m]=t.useState(""),[r,n]=t.useState(""),{mutateAsync:p,isPending:l}=v({mutationFn:h,onSuccess:e=>{d(e.accessToken),u(e.user),i({to:"/ideas"})},onError:e=>{n(e.message)}}),x=async e=>{e.preventDefault(),n(""),await p({email:a,password:o})};return s.jsxs("div",{className:"max-w-md mx-auto",children:[s.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Login"}),r&&s.jsx("div",{className:"bg-red-100 text-red-700 px-4 py-2 rounded mb-4",children:r}),s.jsxs("form",{onSubmit:x,className:"space-y-4",children:[s.jsx("input",{type:"email",className:"w-full border border-gray rounded-md p-2",placeholder:"Email",value:a,onChange:e=>c(e.target.value),autoComplete:"off"}),s.jsx("input",{type:"password",className:"w-full border border-gray rounded-md p-2",placeholder:"Password",value:o,onChange:e=>m(e.target.value),autoComplete:"off"}),s.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold px-4 py-2 rounded-md w-full disabled:opacity-50",disabled:l,children:l?"Logging In...":"Login"})]}),s.jsxs("p",{className:"text-sm text-center mt-4",children:["Don't have an account?"," ",s.jsx(f,{to:"/register",className:"text-blue-600 hover:underline font-medium",children:"Register"})]})]})}export{y as component};
